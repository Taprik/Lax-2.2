setinletassist(0,"entree")setoutletassist(0,"sortie")var 	height = box.rect[3] - box.rect[1]; var	width = box.rect[2] - box.rect[0]; var 	aspect = width/height;var minval = 0;var maxval = 100;var defval = 10;var fondu=30;if (jsarguments.length>1)	fondu = jsarguments[1];var currentval = 0;var bground = new Sketch();var col0 = new Array(1,1,1);//backgroundvar col1 = new Array(0,1,0);  //panevar col2 = new Array(.1,.1,.1);//spanline var myfloat = 0;sketch.default2d();draw(); function getvalueof() { return currentval; }function setvalueof(v){currentval = v;draw();}notifyclients();function setfsaa(v){fsaatog =v;sketch.fsaa = fsaatog;draw();}var fsaatog = 0;function setmin(x){minval=x;currentval = Math.min(maxval,Math.max(minval,currentval));notifyclients() ;draw();}function setmax(x){maxval=x;currentval = Math.min(maxval,Math.max(minval,currentval));notifyclients() ;draw();}function setdef(x){defval=x;defval = Math.min(maxval,Math.max(minval,defval));draw();}   function draw(){	sketch.glclear();	sketch.copypixels(bground,0,0,0,0,width,height);var demi=aspect/2.;var quart=aspect/4.;var petit=(aspect-(78.5*(aspect/40.)));var vval =  ((currentval-minval)/(maxval-minval))*2*aspect-aspect	;sketch.glcolor(col1,1);sketch.quad(-aspect,1,0,vval,1,0,vval,-1,0,-aspect,-1,0);sketch.framequad(-aspect,1,0,vval,1,0,vval,-1,0,-aspect,-1,0);refresh();}        function onresize(x,y){height = box.rect[3] - box.rect[1]; width = box.rect[2] - box.rect[0]; aspect = width/height;draw();}function set(setme){currentval = setme;currentval = Math.min(maxval,Math.max(minval,currentval));draw();notifyclients() ;}function bang(){outlet(0,currentval);}function msg_int(x){msg_float(x);}function msg_float(x){currentval = x;currentval = Math.min(maxval,Math.max(minval,currentval));		col1[0]=((currentval-70)/100.)*3.;		col1[1]=1.-((currentval-70)/100.)*3.; draw();notifyclients();}function ondrag(x,y,but,cmd,shift,capslock,option,ctrl){currentval = (x/width)*(maxval-minval)+minval ;currentval = Math.min(maxval,Math.max(minval,currentval));outlet(0,currentval);draw();notifyclients() ;}function onclick(x,y,but,cmd,shift,capslock,option,ctrl){currentval = (x/width)*(maxval-minval)+minval ;currentval = Math.min(maxval,Math.max(minval,currentval));outlet(0,currentval);draw();notifyclients() ;}